<div class="container">

  <div class="row">
    <%= form_with model: @example, local: true, class:"area" do |form| %>

        <div class="form-group">
          <h3>タイトル</h3>
          <%= form.text_field :example_title, placeholder:"タイトル", size:"100x1" %>
        </div>


        <div id='editor'>
          <div class="form-group">
            <%= form.text_area :example_content,size:"150x20", class: "form-control", id: "example_content", "v-model" => "input", name: "example[example_content]",
          value:"#### 問題説明\nここに書いてください\n``` ruby\nMarkdown記法が使えます\n```\n#### 補足（FW/ツールのバージョンなど）\nここに書いてください" %><br>
          </div>

            <div class="form-group">
              <%= form.text_area :example_answer, size:"140x10", placeholder:"回答をここに書いてください\nMarkdown記法が使えます" %>
            </div>


            <div class="collapse" id="preview">
              <div v-html='input | marked' class="card card-body bg-light p-5"></div>
            </div>
        </div>
      </div>

      <div class="form-group">
        <button type="button" class="btn btn-info offset-lg-9" data-toggle="collapse" data-target="#preview" aria-expanded="false" aria-controls="collapse">
          プレビュー
        </button>
        <%= form.submit "問題を作成", class: 'btn btn-success'  %>
      </div>
    <% end %>
</div>







      <script type="text/javascript">
        window.onload = function() {
          new Vue({
            el: '#editor',
              data: {
                input: '<%==  j @example.example_content %>',
              },
              filters: {
                marked: marked,
              },
          });
        };
      </script>
